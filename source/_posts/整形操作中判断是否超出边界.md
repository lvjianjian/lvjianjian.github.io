---
title: 整型操作中判断是否超出边界
date: 2017-04-05 14:00:08
tags: [leetcode,整型操作]
categories: [leetcode]
---

今天leetcode刷题时候遇到了对整型数据的操作，想要对超出最大最小值进行特殊处理。一开始的思路是在对整型数据操作时候存成long型，这样就可以很简单地在末尾进行判断了，但是想到如果是对long做操作难道再把数据类型扩大成biginteger么？
因此另一种办法就是在每次操作前进行判断，由于在操作后，其值可能已经超界发生改变就很难判断，所以在操作前用最大或者最小值的整除和取余的值和其判断即可。
```java
//是否会超出最大值
if (sum > Integer.MAX_VALUE / 10|| (sum == Integer.MAX_VALUE/10 && digit > Integer.MAX_VALUE % 10))
```

```java
//是否会超出最小值
if(sum < Integer.MIN_VALUE / 10||(sum == Integer.MIN_VALUE/10 && digit < Integer.MIN_VALUE % 10))
```
***
leetcode第8题是自己编写一个c的atoi，将一个字符串转成数字，遇到字母即停止读入。超出边界按边界返回，其实现如下：
```java
public int myAtoi(String str) {
        if (str == null)
            return 0;
        str = str.trim();
        int sum = 0;
        boolean findSign = false;
        int sign = 1;//符号位
        boolean findInteger = false;
        for (int i = 0; i < str.length(); i++) {
            char a = str.charAt(i);
            if (a >= '0' && a <= '9') {
                int digit = sign * (a - '0');
                //判断是否会超出int最大值范围
                if (sum > Integer.MAX_VALUE / 10
                        || (sum == Integer.MAX_VALUE/10 && digit > Integer.MAX_VALUE % 10)){
                    return Integer.MAX_VALUE;
                }else if(sum < Integer.MIN_VALUE / 10
                        || (sum == Integer.MIN_VALUE/10 && digit < Integer.MIN_VALUE % 10) ){
                    return Integer.MIN_VALUE;
                }
                sum = sum * 10 + digit;
                findInteger = true;
            }else if(a == '-' && !findSign && !findInteger){
                findSign = true;
                sign = -1;
            }else if(a == '+' && !findSign && !findInteger){
                findSign = true;
            } else {
                break;
            }
        }
        return sum;
    }
```
